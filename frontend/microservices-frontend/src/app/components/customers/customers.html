<div class="customers-container">
  <h2>Gestion des Clients</h2>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div class="content-wrapper">
    <!-- Liste des clients -->
    <div class="customers-list">
      <h3>Liste des Clients</h3>
      <div *ngIf="isLoading" class="loading">Chargement...</div>
      
      <div class="customer-card" *ngFor="let customer of customers" 
           [class.selected]="selectedCustomer?.id === customer.id"
           (click)="selectCustomer(customer)">
        <div class="customer-info">
          <strong>{{ customer.name }}</strong>
          <span class="email">{{ customer.email }}</span>
        </div>
        <button class="btn-delete" (click)="deleteCustomer(customer.id); $event.stopPropagation()">
          Supprimer
        </button>
      </div>

      <div *ngIf="!isLoading && customers.length === 0" class="empty-state">
        Aucun client trouvé
      </div>
    </div>

    <!-- Détails du client sélectionné -->
    <div class="customer-details" *ngIf="selectedCustomer">
      <h3>Détails du Client</h3>
      
      <div *ngIf="!isEditing" class="view-mode">
        <div class="detail-item">
          <label>ID:</label>
          <span>{{ selectedCustomer.id }}</span>
        </div>
        <div class="detail-item">
          <label>Nom:</label>
          <span>{{ selectedCustomer.name }}</span>
        </div>
        <div class="detail-item">
          <label>Email:</label>
          <span>{{ selectedCustomer.email }}</span>
        </div>
        <button class="btn-edit" (click)="editCustomer()">Modifier</button>
      </div>

      <div *ngIf="isEditing" class="edit-mode">
        <div class="form-group">
          <label>Nom:</label>
          <input type="text" [(ngModel)]="selectedCustomer.name" />
        </div>
        <div class="form-group">
          <label>Email:</label>
          <input type="email" [(ngModel)]="selectedCustomer.email" />
        </div>
        <div class="form-actions">
          <button class="btn-save" (click)="updateCustomer()">Enregistrer</button>
          <button class="btn-cancel" (click)="cancelEdit()">Annuler</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Formulaire de création -->
  <div class="create-form">
    <h3>Nouveau Client</h3>
    <div class="form-group">
      <label>Nom:</label>
      <input type="text" [(ngModel)]="newCustomer.name" placeholder="Nom du client" />
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" [(ngModel)]="newCustomer.email" placeholder="email@example.com" />
    </div>
    <button class="btn-create" (click)="createCustomer()">Créer</button>
  </div>
</div>
